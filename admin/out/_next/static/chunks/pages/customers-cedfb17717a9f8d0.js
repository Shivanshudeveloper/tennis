(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{12505:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers",function(){return t(50525)}])},8977:function(e,n,t){"use strict";t.d(n,{V:function(){return r}});var r="https://tennishapi.herokuapp.com"},84747:function(e,n,t){"use strict";t.d(n,{U:function(){return i}});var r=t(85893),i=(0,t(82066).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download")},97169:function(e,n,t){"use strict";t.d(n,{o:function(){return i}});var r=t(85893),i=(0,t(82066).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search")},2248:function(e,n,t){"use strict";t.d(n,{g:function(){return i}});var r=t(85893),i=(0,t(82066).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload")},50525:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return te}});var r=t(34051),i=t.n(r),c=t(85893),o=t(9008),l=t(67294),a=t(87357),s=t(27948),d=t(51964),u=t.n(d),h=t(22961),x=t(45697),f=t.n(x),j=t(66242),g=t(7906),v=t(53184),p=t(68509),Z=t(53252),m=t(85071),b=t(295),w=t(15861),y=t(83321),O=t(51069);function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var P=function(e){var n=function(e){var n=e.getFullYear(),t=(1+e.getMonth()).toString();t=t.length>1?t:"0"+t;var r=e.getDate().toString();return(r=r.length>1?r:"0"+r)+" / "+t+" / "+n},t=e.customers,r=e.viewUser,i=k(e,["customers","viewUser"]),o=(0,l.useState)([]),s=o[0],d=o[1],x=(0,l.useState)(10),f=x[0],P=x[1],C=(0,l.useState)(0),_=C[0],E=C[1];return(0,c.jsxs)(j.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){S(e,n,t[n])}))}return e}({},i,{children:[(0,c.jsx)(u(),{children:(0,c.jsx)(a.Z,{sx:{minWidth:1050},children:(0,c.jsxs)(g.Z,{children:[(0,c.jsx)(v.Z,{children:(0,c.jsxs)(p.Z,{children:[(0,c.jsx)(Z.Z,{padding:"checkbox",children:(0,c.jsx)(m.Z,{checked:s.length===t.length,color:"primary",indeterminate:s.length>0&&s.length<t.length,onChange:function(e){var n;n=e.target.checked?t.map((function(e){return e.id})):[],d(n)}})}),(0,c.jsx)(Z.Z,{children:"Name"}),(0,c.jsx)(Z.Z,{children:"Email"}),(0,c.jsx)(Z.Z,{children:"Phone"}),(0,c.jsx)(Z.Z,{children:"Registration date"}),(0,c.jsx)(Z.Z,{children:"View bookings"})]})}),(0,c.jsx)(b.Z,{children:t.slice(0,f).map((function(e){return(0,c.jsxs)(p.Z,{hover:!0,selected:-1!==s.indexOf(e.id),children:[(0,c.jsx)(Z.Z,{padding:"checkbox",children:(0,c.jsx)(m.Z,{checked:-1!==s.indexOf(e.id),onChange:function(n){return function(e,n){var t=s.indexOf(n),r=[];-1===t?r=r.concat(s,n):0===t?r=r.concat(s.slice(1)):t===s.length-1?r=r.concat(s.slice(0,-1)):t>0&&(r=r.concat(s.slice(0,t),s.slice(t+1))),d(r)}(0,e.id)},value:"true"})}),(0,c.jsx)(Z.Z,{children:(0,c.jsx)(a.Z,{sx:{alignItems:"center",display:"flex"},children:(0,c.jsxs)(w.Z,{color:"textPrimary",variant:"body1",children:[e.firstName," ",e.lastName]})})}),(0,c.jsx)(Z.Z,{children:e.email}),(0,c.jsx)(Z.Z,{children:e.phoneNumber}),(0,c.jsx)(Z.Z,{children:n(new Date(e.registrationDate))}),(0,c.jsx)(Z.Z,{children:(0,c.jsx)(y.Z,{onClick:function(){console.log(e.userId),r(e.userId)},children:(0,c.jsx)(h.Z,{})})})]},e.id)}))})]})})}),(0,c.jsx)(O.Z,{component:"div",count:t.length,onPageChange:function(e,n){E(n)},onRowsPerPageChange:function(e){P(e.target.value)},page:_,rowsPerPage:f,rowsPerPageOptions:[5,10,25]})]}))};P.propTypes={customers:f().array.isRequired};var C=t(97169),_=t(2248),E=t(84747);var D=t(46447),N=t(25934),I=((0,N.Z)(),(0,N.Z)(),(0,N.Z)(),(0,N.Z)(),(0,N.Z)(),(0,N.Z)(),(0,N.Z)(),(0,N.Z)(),(0,N.Z)(),(0,N.Z)(),t(44267)),M=t(86273),R=t(87109),V=t(53219),z=t(9669),T=t.n(z),U=t(64666),W=t(37645),A=t(31425),L=t(6514),B=t(50594),F=t(34386),H=t(93946),X=t(72882),Y=t(55113),q=t(87918),G=t(43003),$=t(27036),J=t(8977);function K(e,n,t,r,i,c,o){try{var l=e[c](o),a=l.value}catch(s){return void t(s)}l.done?n(a):Promise.resolve(a).then(r,i)}function Q(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Q(e,n,t[n])}))}return e}var ne=function(){var e=function(){ce(!0)},n=function(){ce(!1)},t=function(e){var n=e.getFullYear(),t=(1+e.getMonth()).toString();t=t.length>1?t:"0"+t;var r=e.getDate().toString();return(r=r.length>1?r:"0"+r)+" / "+t+" / "+n},r=(0,l.useState)([]),d=r[0],u=r[1],h=(0,l.useState)(!1),x=h[0],f=h[1];(0,l.useEffect)((function(){var e="".concat(J.V,"/api/v1/main/users");T().get(e).then((function(e){u(e.data.reverse())}))}),[x]);var m=(0,l.useState)(""),O=m[0],S=m[1];(0,l.useEffect)((function(){if(""!==O){if(!/^\s*$/.test(O)){console.log(O);var e="".concat(J.V,"/api/v1/main/findUsers/").concat(O);T().get(e,O).then((function(e){console.log(e.data),u(e.data)}))}}else f(!x)}),[O]);var k,D=(0,l.useState)(),N=D[0],z=D[1],Q=(0,l.useState)([]),ne=Q[0],te=Q[1],re=(0,l.useState)(!1),ie=re[0],ce=re[1];return(0,l.useEffect)((k=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:return n="".concat(J.V,"/api/v1/main/bookings/").concat(N),e.next=5,T().get(n).then((function(e){console.log(e.data),te(e.data.reverse())})).catch((function(e){throw e}));case 5:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,r){var i=k.apply(e,n);function c(e){K(i,t,r,c,o,"next",e)}function o(e){K(i,t,r,c,o,"throw",e)}c(void 0)}))}),[N,x]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.default,{children:(0,c.jsx)("title",{children:"Members"})}),(0,c.jsxs)(U.Z,{open:ie,onClose:n,"aria-labelledby":"alert-dialog-title",fullWidth:!0,maxWidth:"lg","aria-describedby":"alert-dialog-description",children:[(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)(W.Z,{id:"alert-dialog-title",sx:{float:"left"},children:"Bookings"}),(0,c.jsx)(A.Z,{children:(0,c.jsx)(y.Z,{color:"error",onClick:n,children:(0,c.jsx)(B.Z,{})})})]}),(0,c.jsx)(L.Z,{children:(0,c.jsx)(X.Z,{component:Y.Z,children:(0,c.jsxs)(g.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,c.jsx)(v.Z,{children:(0,c.jsxs)(p.Z,{children:[(0,c.jsx)(Z.Z,{children:"Sl No."}),(0,c.jsx)(Z.Z,{align:"center",children:"Booking Date"}),(0,c.jsx)(Z.Z,{align:"center",children:"Check In Time"}),(0,c.jsx)(Z.Z,{align:"center",children:"Check Out Time"}),(0,c.jsx)(Z.Z,{align:"center",children:"Status"}),(0,c.jsx)(Z.Z,{align:"center",children:"Action"})]})}),(0,c.jsx)(b.Z,{children:null===ne||void 0===ne?void 0:ne.map((function(e,n){return(0,c.jsxs)(p.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,c.jsx)(Z.Z,{component:"th",scope:"row",children:n+1}),(0,c.jsx)(Z.Z,{align:"center",children:t(new Date(null===e||void 0===e?void 0:e.date))}),(0,c.jsx)(Z.Z,{align:"center",children:new Date(null===e||void 0===e?void 0:e.startTime).toLocaleTimeString("en-US")}),(0,c.jsx)(Z.Z,{align:"center",children:new Date(null===e||void 0===e?void 0:e.endTime).toLocaleTimeString("en-US")}),(0,c.jsx)(Z.Z,{align:"center",children:(0,c.jsx)(q.Z,{label:null===e||void 0===e?void 0:e.status,color:"Pending"===(null===e||void 0===e?void 0:e.status)?"warning":"Accepted"===(null===e||void 0===e?void 0:e.status)?"success":"error"})}),(0,c.jsxs)(Z.Z,{align:"center",children:[(0,c.jsx)(F.Z,{title:"Deny",children:(0,c.jsx)(H.Z,{color:"error","aria-label":"upload picture",component:"span",onClick:function(){!function(e){var n="".concat(J.V,"/api/v1/main/bookings/").concat(e._id),t=ee({},e,{status:"Rejected"});T().patch(n,t).then((function(e){f(!x)})).catch((function(e){throw e}))}(e)},children:(0,c.jsx)(G.Z,{})})}),(0,c.jsx)(F.Z,{title:"Accept",children:(0,c.jsx)(H.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){!function(e){var n="".concat(J.V,"/api/v1/main/bookings/").concat(e._id),t=ee({},e,{status:"Accepted"});T().patch(n,t).then((function(e){f(!x)})).catch((function(e){throw e}))}(e)},children:(0,c.jsx)($.Z,{})})})]})]},null===e||void 0===e?void 0:e._id)}))})]})})})]}),(0,c.jsx)(a.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,c.jsxs)(s.Z,{maxWidth:!1,children:[(0,c.jsxs)(a.Z,{children:[(0,c.jsxs)(a.Z,{sx:{alignItems:"center",display:"flex",justifyContent:"space-between",flexWrap:"wrap",m:-1},children:[(0,c.jsx)(w.Z,{sx:{m:1},variant:"h4",children:"Members"}),(0,c.jsxs)(a.Z,{sx:{m:1},children:[(0,c.jsx)(y.Z,{startIcon:(0,c.jsx)(_.g,{fontSize:"small"}),sx:{mr:1},children:"Import"}),(0,c.jsx)(y.Z,{startIcon:(0,c.jsx)(E.U,{fontSize:"small"}),sx:{mr:1},children:"Export"}),(0,c.jsx)(y.Z,{color:"primary",variant:"contained",children:"Add Members"})]})]}),(0,c.jsx)(a.Z,{sx:{mt:3},children:(0,c.jsx)(j.Z,{children:(0,c.jsx)(I.Z,{children:(0,c.jsx)(a.Z,{sx:{maxWidth:500},children:(0,c.jsx)(M.Z,{value:O,onChange:function(e){S(e.target.value)},fullWidth:!0,InputProps:{startAdornment:(0,c.jsx)(R.Z,{position:"start",children:(0,c.jsx)(V.Z,{color:"action",fontSize:"small",children:(0,c.jsx)(C.o,{})})})},placeholder:"Search member",variant:"outlined"})})})})})]}),(0,c.jsx)(a.Z,{sx:{mt:3},children:(0,c.jsx)(P,{customers:d,viewUser:function(n){console.log(n),z(n),e()}})})]})})]})};ne.getLayout=function(e){return(0,c.jsx)(D.c,{children:e})};var te=ne}},function(e){e.O(0,[275,959,331,273,388,156,940,844,447,774,888,179],(function(){return n=12505,e(e.s=n);var n}));var n=e.O();_N_E=n}]);